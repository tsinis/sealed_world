// ignore_for_file: deprecated_member_use, it's TODO!,

import "package:_sealed_world_tests/sealed_world_tests.dart";
import "package:l10n_countries/l10n_countries.dart" show CountriesLocaleMapper;
import "package:sealed_countries/src/helpers/utils/typed_localization_delegate.dart";
import "package:sealed_countries/src/model/country/country.dart";
import "package:sealed_currencies/sealed_currencies.dart";
import "package:test/test.dart";

void main() => group("IsoTranslatedIterableExtension", tags: "generated", () {
  const parser = TypedLocalizationDelegate();
  final locales =
      CountriesLocaleMapper().map.keys.map(parser.parseLocale).nonNulls;

  const noFallbackMap = {
    "aa": 3,
    "ab": 250,
    "af": 250,
    "ak": 168,
    "am": 250,
    "an": 250,
    "ar": 250,
    "as": 250,
    "av": 33,
    "ay": 52,
    "az": 250,
    "az_Cyrl": 250,
    "ba": 155,
    "be": 250,
    "bg": 250,
    "bh": 36,
    "bi": 18,
    "bm": 226,
    "bm_Latn": 226,
    "bn": 250,
    "bn_IN": 250,
    "bo": 203,
    "br": 250,
    "bs": 250,
    "bs_Cyrl": 250,
    "ca": 250,
    "ce": 250,
    "ch": 8,
    "co": 66,
    "cs": 250,
    "cu": 69,
    "cv": 250,
    "cy": 250,
    "da": 250,
    "de": 250,
    "dv": 178,
    "dz": 250,
    "ee": 250,
    "el": 250,
    "en": 250,
    "eo": 250,
    "es": 250,
    "et": 250,
    "eu": 250,
    "fa": 250,
    "ff": 250,
    "fi": 250,
    "fj": 6,
    "fo": 250,
    "fr": 250,
    "fy": 250,
    "ga": 250,
    "gd": 250,
    "gl": 250,
    "gn": 101,
    "gu": 250,
    "gv": 155,
    "ha": 250,
    "ha_Latn": 250,
    "he": 250,
    "hi": 250,
    "hr": 250,
    "ht": 152,
    "hu": 250,
    "hy": 250,
    "ia": 250,
    "id": 250,
    "ie": 250,
    "ig": 250,
    "ii": 10,
    "ik": 7,
    "io": 114,
    "is": 250,
    "it": 250,
    "iu": 25,
    "ja": 250,
    "jv": 250,
    "ka": 250,
    "kg": 68,
    "ki": 224,
    "kk": 250,
    "kk_Cyrl": 250,
    "kl": 220,
    "km": 250,
    "kn": 250,
    "ko": 250,
    "ks": 250,
    "ks_Arab": 250,
    "ku": 214,
    "kv": 103,
    "kw": 146,
    "ky": 250,
    "ky_Cyrl": 250,
    "la": 240,
    "lb": 250,
    "lg": 224,
    "li": 119,
    "ln": 246,
    "lo": 250,
    "lt": 250,
    "lu": 200,
    "lv": 250,
    "mg": 224,
    "mi": 250,
    "mk": 250,
    "ml": 250,
    "mn": 250,
    "mn_Cyrl": 250,
    "mr": 250,
    "ms": 250,
    "ms_Latn": 250,
    "mt": 250,
    "my": 250,
    "na": 112,
    "nb": 250,
    "nd": 105,
    "ne": 250,
    "nl": 250,
    "nn": 116,
    "no": 250,
    "nv": 129,
    "ny": 2,
    "oc": 250,
    "om": 50,
    "or": 250,
    "os": 180,
    "pa": 250,
    "pa_Arab": 250,
    "pi": 32,
    "pl": 250,
    "ps": 250,
    "ps_PK": 250,
    "pt": 250,
    "qu": 250,
    "rm": 250,
    "rn": 224,
    "ro": 250,
    "ro_MD": 250,
    "ru": 250,
    "rw": 165,
    "sa": 153,
    "sc": 250,
    "sd": 250,
    "se": 247,
    "se_FI": 247,
    "sg": 225,
    "si": 250,
    "sk": 250,
    "sl": 250,
    "sm": 45,
    "sn": 224,
    "so": 250,
    "sq": 250,
    "sr": 250,
    "ss": 150,
    "st": 7,
    "su": 111,
    "sv": 250,
    "sw": 250,
    "sw_CD": 211,
    "sw_KE": 225,
    "ta": 250,
    "te": 250,
    "tg": 245,
    "th": 250,
    "ti": 250,
    "tk": 250,
    "tl": 250,
    "tn": 2,
    "to": 250,
    "tr": 250,
    "ts": 25,
    "tt": 246,
    "tw": 9,
    "ty": 24,
    "ug": 250,
    "ug_Arab": 250,
    "uk": 250,
    "ur": 250,
    "uz": 250,
    "uz_AF": 41,
    "uz_Cyrl": 250,
    "ve": 10,
    "vi": 250,
    "vo": 194,
    "wa": 58,
    "wo": 247,
    "xh": 250,
    "yi": 216,
    "yo": 250,
    "yo_BJ": 250,
    "za": 188,
    "zh": 250,
    "zu": 250,
  };

  const withFallbackMap = {
    "aa": 3,
    "ab": 250,
    "af": 250,
    "ak": 168,
    "am": 250,
    "an": 250,
    "ar": 250,
    "as": 250,
    "av": 33,
    "ay": 52,
    "az": 250,
    "az_Cyrl": 250,
    "ba": 155,
    "be": 250,
    "bg": 250,
    "bh": 36,
    "bi": 18,
    "bm": 226,
    "bm_Latn": 226,
    "bn": 250,
    "bn_IN": 250,
    "bo": 203,
    "br": 250,
    "bs": 250,
    "bs_Cyrl": 250,
    "ca": 250,
    "ce": 250,
    "ch": 8,
    "co": 66,
    "cs": 250,
    "cu": 69,
    "cv": 250,
    "cy": 250,
    "da": 250,
    "de": 250,
    "dv": 178,
    "dz": 250,
    "ee": 250,
    "el": 250,
    "en": 250,
    "eo": 250,
    "es": 250,
    "et": 250,
    "eu": 250,
    "fa": 250,
    "ff": 250,
    "fi": 250,
    "fj": 6,
    "fo": 250,
    "fr": 250,
    "fy": 250,
    "ga": 250,
    "gd": 250,
    "gl": 250,
    "gn": 101,
    "gu": 250,
    "gv": 155,
    "ha": 250,
    "ha_Latn": 250,
    "he": 250,
    "hi": 250,
    "hr": 250,
    "ht": 152,
    "hu": 250,
    "hy": 250,
    "ia": 250,
    "id": 250,
    "ie": 250,
    "ig": 250,
    "ii": 10,
    "ik": 7,
    "io": 114,
    "is": 250,
    "it": 250,
    "iu": 25,
    "ja": 250,
    "jv": 250,
    "ka": 250,
    "kg": 68,
    "ki": 224,
    "kk": 250,
    "kk_Cyrl": 250,
    "kl": 220,
    "km": 250,
    "kn": 250,
    "ko": 250,
    "ks": 250,
    "ks_Arab": 250,
    "ku": 214,
    "kv": 103,
    "kw": 146,
    "ky": 250,
    "ky_Cyrl": 250,
    "la": 240,
    "lb": 250,
    "lg": 224,
    "li": 119,
    "ln": 246,
    "lo": 250,
    "lt": 250,
    "lu": 200,
    "lv": 250,
    "mg": 224,
    "mi": 250,
    "mk": 250,
    "ml": 250,
    "mn": 250,
    "mn_Cyrl": 250,
    "mr": 250,
    "ms": 250,
    "ms_Latn": 250,
    "mt": 250,
    "my": 250,
    "na": 112,
    "nb": 250,
    "nd": 105,
    "ne": 250,
    "nl": 250,
    "nn": 116,
    "no": 250,
    "nv": 129,
    "ny": 2,
    "oc": 250,
    "om": 50,
    "or": 250,
    "os": 180,
    "pa": 250,
    "pa_Arab": 250,
    "pi": 32,
    "pl": 250,
    "ps": 250,
    "ps_PK": 250,
    "pt": 250,
    "qu": 250,
    "rm": 250,
    "rn": 224,
    "ro": 250,
    "ro_MD": 250,
    "ru": 250,
    "rw": 165,
    "sa": 153,
    "sc": 250,
    "sd": 250,
    "se": 247,
    "se_FI": 247,
    "sg": 225,
    "si": 250,
    "sk": 250,
    "sl": 250,
    "sm": 45,
    "sn": 224,
    "so": 250,
    "sq": 250,
    "sr": 250,
    "ss": 150,
    "st": 7,
    "su": 111,
    "sv": 250,
    "sw": 250,
    "sw_CD": 250,
    "sw_KE": 250,
    "ta": 250,
    "te": 250,
    "tg": 245,
    "th": 250,
    "ti": 250,
    "tk": 250,
    "tl": 250,
    "tn": 2,
    "to": 250,
    "tr": 250,
    "ts": 25,
    "tt": 246,
    "tw": 9,
    "ty": 24,
    "ug": 250,
    "ug_Arab": 250,
    "uk": 250,
    "ur": 250,
    "uz": 250,
    "uz_Cyrl": 250,
    "ve": 10,
    "vi": 250,
    "vo": 194,
    "wa": 58,
    "wo": 247,
    "xh": 250,
    "yi": 216,
    "yo": 250,
    "yo_BJ": 250,
    "za": 188,
    "zh": 250,
    "zu": 250,
  };

  group("commonNamesCacheMap", () {
    group("should have specific amount of translations for every locale", () {
      for (final locale in locales) {
        final stringLocale = locale.toString();
        test("should have data for $stringLocale", () {
          final withFallbackData = WorldCountry.list.commonNamesCacheMap(
            locale,
          );
          final noFallbackData = WorldCountry.list.commonNamesCacheMap(
            locale,
            useLanguageFallback: false,
          );

          expect(withFallbackData.length, withFallbackMap[stringLocale]);
          expect(noFallbackData.length, noFallbackMap[stringLocale]);
        });
      }
    });
  });

  group("commonNamesMap", () {
    const altLocaleMap = {
      "az": "az_Cyrl",
      "bm": "bm_Latn",
      "bs": "bs_Cyrl",
      "kk": "kk_Cyrl",
      "ky": "ky_Cyrl",
      "mn": "mn_Cyrl",
      "ms": "ms_Latn",
      "sw": "sw_KE",
      "sw_CD": "sw",
      "sw_KE": "sw",
      "ug": "ug_Arab",
      "uz": "uz_Cyrl",
    };

    group("should have specific amount of translations for every locale", () {
      for (final locale in locales) {
        final stringLocale = locale.toString();

        performanceTest("should have data for $stringLocale", () {
          final maybeFallback = parser.parseLocale(altLocaleMap[stringLocale]);
          final withFallbackData = WorldCountry.list.commonNamesMap(
            options: LocaleMappingOptions(
              mainLocale: locale,
              fallbackLocale: maybeFallback,
            ),
          );
          expect(withFallbackData.length, withFallbackMap[stringLocale]);
        });
      }
    });
  });
});
